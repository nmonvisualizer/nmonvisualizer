<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<head>
<title>NMONVisualizer - Command Line</title>
<link rel="stylesheet"href="nmonvisualizer.css" type="text/css" />
<link rel="icon" href="favicon.ico" type="image/png" />
</head>
<body>
<h1>NMONVisualizer</h1>
<h2 class="top">command line</h2>

<div id="nav">
  <a href="index.html">Home</a><br/>
  <a href="screenshots.html">Screenshots</a><br/>
  <a href="iostat.html">IOStat</a><br/>
  <a href="json.html">JSON</a><br/>
  <a class="b" href="commandline.html">Command Line</a><br/>
  <a href="customreports.html">Custom Reports</a><br/>
  <a href="renaming.html">Renaming Hosts</a><br/>
  <a href="startup.html">Start nmon at Boot</a><br/>
  <hr/>
  <a href="https://github.com/nmonvisualizer/nmonvisualizer">Project on GitHub</a><br/>
  <a href="https://bintray.com/pkg/show/general/nmonvisualizer/NMONVisualizer/com.ibm.nmon">Releases</a><br/>
  <a href="https://github.com/nmonvisualizer/nmonvisualizer/issues/new">Submit a Bug</a><br/>
</div>

<div id="content">
  <div class="section">
    <h2>Report Generator</h2>
    <p>NMONVisualizer supports generating charts as PNG files from the command line. By default, it will create the same charts that are available in the GUI. Both the summary charts at the 'All Systems' level and charts for each host will be created in a <span class="c">charts</span> subdirectory. There will be another subdirectory for each host's set of charts. Generation of these reports, along with the ability to create custom reports is supported via switches.
    </p>
    <p>The charts produced by this utility default to displaying all the data that was parsed. Command line switches are also supported to specify the start and / or end datetimes for the charts as well as creating custom reports.
    </p>
  </div>
  <div class="section">
    <h3>Running</h3>
    <p>To run the ReportGenerator, specify the class from the command line like the following:<br/>
       <span class="c">java -jar NMONVisualizer_&lt;release_date&gt;.jar com.ibm.nmon.ReportGenerator &lt;file|directory to parse&gt;</span></p>
    <p>Note that only nmon files are parsed. If a directory is given, then this directory will be searched <span class="i">recursively</span>. so ensure that the JVM has enough memory allocated to it (via <span class="c">-Xmx</span>).</p>
  </div>
  <div class="section">
    <h3>Options</h3>
    <ul>
      <li><span class="c">--nodata</span> - do not generate charts for each host / dataset</li>
      <li><span class="c">--nosummary</span> - do not generate summary charts across all hosts / datasets</li>
      <li><span class="c">-s</span> - start datetime of charts in ISO 8601 datetime format (<span class="c">yyyy-MM-ddTHH:mm:ssX</span>)</li>
      <li><span class="c">-e</span> - end datetime of charts in ISO 8601 datetime format (<span class="c">yyyy-MM-ddTHH:mm:ssX</span>)</li>
      <li><span class="c">-i</span> - use the given interval CSV file to create charts for a number of intervals.</li>
      <li><span class="c">-d &lt;filename&gt;</span> - use the given XML file to create a <a href="customreports.html">custom</a> set of charts <span class="i">for each</span> host / dataset. If more than one dataset is parsed, a separate directory will be used for each hostname.</li>
      <li><span class="c">-a &lt;filename&gt;</span> - use the given XML file to create a <a href="customreports.html">custom</a> set of charts <span class="i">across all</span> hosts / datasets</li>
      <li><span class="c">-mt &lt;filename&gt;</span> - like <span class="c">-d</span> but instead of plotting each chart's matching data types on a single chart, a chart will be created for <span class="i">each type</span>.</li>
      <li><span class="c">-mf &lt;filename&gt;</span> - like <span class="c">-d</span> but instead of plotting each chart's matching fields on a single chart, a chart will be created for <span class="i">each type and field</span> combination.</li>
    </ul>
    <p>The <span class="c">-d</span>, <span class="c">-a</span>, <span class="c">-mt</span> and <span class="c">-mf</span> switches do not disable the default reports, hence the other switches to do this. Each of these switches can be specified <span class='i'>multiple</span> times to create a number of custom reports at once.</p>
    <p>Since the <span class="c">-mt</span> and <span class="c">-mf</span> multiplex a single chart definition into multiple output charts, it is possible to create a large number of charts, especially when working with a large number of parsed data sets. In most cases, there should be a limited (maybe one) chart definition per file. Note that any chart subtitles are ignored. With <span class="c">-mt</span>, the type name is used; with <span class="c">-mf</span>, the field name is used. The file names used for the output will append the type or field, respectively. For the file name, types and fields are renamed as specified in the chart definition. The raw type or field name is use for the subtitle.</p>
    <p>Neither of the <span class="c">-s</span> and <span class="c">-e</span> switches are required. Either one, both or none can be specified.</p>
    <p>The intervals loaded when using <span class="c">-i</span> will be in addition to the interval specified with the <span class="c">-s</span> and / or <span class="c">-e</span> switches. If more than one interval is loaded, a separate output directory for each interval will be created. All charts specified via the other switches will be created for each interval.</p>
  </div>
  <div class="section">
    <h3>Errors</h3>
    <p>Any errors generated during parsing will be logged to a <span class="c">ReportGenerator_yyyMMdd_HHmmss.log</span> log file.</p>
  </div>
  <div class="section">
    <h3>Intervals File</h3>
    <p>The value given for the the <span class="c">-i</span> should be a valid CSV file that contains at least one interval. The format of this file is <span class="c">interval name, start, end</span>. The interval name is optional. Both the start and end must be a valid ISO 8601 datetime string.</p>
  </div>
</div>
</body>
</html>
